<main>
  <section id="grid" *ngIf="(clients$ | async)?.length; else startTmpl">
    <ng-container *ngFor="let client of clients$ | async">
      <figure>
        <peer-player
          title="@SeekPeer"
          [autoplay]="true"
          [overlay]="true"
          [stream]="true"
          [srcObject]="client?.stream"
        ></peer-player>
      </figure>
    </ng-container>
  </section>
  <button *ngIf="active$ | async" type="button" mat-button (click)="hangUp()">
    <mat-icon>close</mat-icon>
  </button>
  <ng-template #startTmpl>
    <div class="start">
      <div id="grid">
        <div>
          <button (click)="connectToRoom()">
            <img src="assets/images/beta.svg" alt="Iniciar chamada de vídeo" />
          </button>
          <h2>Chamada de vídeo...</h2>
        </div>
        <div>
          <button (click)="signUp()">
            <img src="assets/images/box.svg" alt="Criar seu usuário" />
          </button>
          <h2>Criar seu usuário.</h2>
        </div>
      </div>
    </div>
  </ng-template>
</main>
